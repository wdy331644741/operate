CREATE TABLE `marketing_experience` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '体验金ID',
  `user_id` int(10) unsigned NOT NULL COMMENT '用户ID',
  `uuid` char(36) NOT NULL COMMENT '唯一标识',
  `source_id` int(10) unsigned NOT NULL COMMENT '来源ID',
  `source_name` varchar(100) NOT NULL COMMENT '体验金名称',
  `amount` decimal(20,0) unsigned NOT NULL COMMENT '体验金金额',
  `effective_start` datetime NOT NULL COMMENT '有效期开始时间',
  `effective_end` datetime NOT NULL COMMENT '有效期结束时间',
  `continuous_days` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '加息天数',
  `limit_desc` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_activate` char(20) NOT NULL DEFAULT '0' COMMENT '默认为0  未激活',
  `is_use` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '是否已使用',
  `create_time` datetime NOT NULL COMMENT '发放时间',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uuid` (`uuid`) USING BTREE,
  KEY `source_id` (`source_id`) USING BTREE,
  KEY `user_id` (`user_id`) USING BTREE,
  KEY `effective_end` (`effective_end`) USING BTREE,
  KEY `effective_start` (`effective_start`) USING BTREE,
  KEY `is_use` (`is_use`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='记录发放体验金';




CREATE TABLE `award_node` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(30) NOT NULL COMMENT '标题',
  `name` varchar(30) NOT NULL COMMENT '名称',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `name` (`name`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8;



CREATE TABLE `award_withdraw` (
  `id` int(10) NOT NULL,
  `title` varchar(50) NOT NULL COMMENT '提现劵名称',
  `times` int(3) NOT NULL COMMENT '提现次数',
  `effective_end` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '有效期结束时间',
  `limit_node` tinyint(3) NOT NULL COMMENT '触发节点',
  `limit_desc` varchar(100) DEFAULT NULL COMMENT '限制说明',
  `create_time` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,
  `update_time` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,
  `status` tinyint(3) NOT NULL DEFAULT '0' COMMENT '1启用  0禁用',
  `is_del` tinyint(3) NOT NULL DEFAULT '0' COMMENT '是否删除',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='提现劵配置表';


CREATE TABLE `marketing_withdrawcoupon` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '提现劵ID',
  `user_id` int(10) unsigned NOT NULL COMMENT '用户ID',
  `uuid` char(36) NOT NULL COMMENT '唯一标识',
  `source_id` int(10) unsigned NOT NULL COMMENT '来源ID',
  `source_name` varchar(100) NOT NULL COMMENT '来源(活动名称)',
  `effective_start` datetime NOT NULL COMMENT '有效期起始时间',
  `effective_end` datetime NOT NULL COMMENT '有效期结束时间',
  `order_id` varchar(64) DEFAULT NULL COMMENT '提现订单id',
  `limit_desc` varchar(250) NOT NULL DEFAULT '' COMMENT '限制说明',
  `is_activate` tinyint(3) NOT NULL DEFAULT '0' COMMENT '0 未激活  1激活',
  `is_use` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '是否已使用 0未使用 1已使用',
  `create_time` datetime NOT NULL COMMENT '发放时间',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uuid` (`uuid`) USING BTREE,
  KEY `source_id` (`source_id`) USING BTREE,
  KEY `user_id` (`user_id`) USING BTREE,
  KEY `effective_end` (`effective_end`) USING BTREE,
  KEY `effective_start` (`effective_start`) USING BTREE,
  KEY `is_use` (`is_use`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='发放提现劵记录';

ALTER TABLE `marketing_interestcoupon`
ADD COLUMN `is_activate`  tinyint(3) NOT NULL DEFAULT 0 COMMENT '0未激活 1激活' AFTER `limit_desc`;




ALTER TABLE `award_experience`
ADD COLUMN `experience_name`  varbinary(100) NULL COMMENT '体验卷名称' AFTER `repeat`;


ALTER TABLE `award_withdraw`
ADD COLUMN `withdraw_name`  varbinary(100) NULL COMMENT '提现劵名称' AFTER `is_del`;


ALTER TABLE `marketing_activity`
ADD COLUMN `activity_name`  varbinary(100) NULL COMMENT '活动名称' AFTER `create_time`;

UPDATE marketing_activity SET activity_name='redelivery' where id=4


ALTER TABLE `marketing_interestcoupon`
ADD COLUMN `usetime_start`  datetime NULL COMMENT '用户可以使用的开始时间' AFTER `source_name`,
ADD COLUMN `usetime_end`  datetime NULL COMMENT '用户可以使用的结束时间' AFTER `usetime_start`;


ALTER TABLE `award_interestcoupon`
ADD COLUMN `effective_start`  datetime NULL COMMENT '有效期开始时间' AFTER `effective_days`;



